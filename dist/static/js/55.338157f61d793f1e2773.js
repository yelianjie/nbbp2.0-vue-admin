webpackJsonp([55],{xkhY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("ms7A"),i={name:"agentManager",data:function(){return{loading:!0,tableLoading:!1,formInline:{nickname:""},params:{page:1,pageSize:10,name:""},tableData:[],total:0}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.loading=!0,Object(n.c)(this.params).then(function(t){var a=t.data.result;e.tableData=a.data,e.total=a.total,e.loading=!1}).catch(function(t){e.loading=!1})},handleSizeChange:function(e){this.params.pageSize=e,this.getData()},handleCurrentChange:function(e){this.params.page=e,this.getData(),console.log("当前页: "+e)},onSubmit:function(){this.resetParams(),this.params.name=this.formInline.nickname,this.getData(),console.log("submit!")},handleDelete:function(e,t){var a=this;this.$confirm("是否确定删除该代理?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.a)({id:e.id}).then(function(e){a.$message({type:"success",message:"删除成功!"}),a.getData()})}).catch(function(){})},resetParams:function(){this.params={page:1,pageSize:10,name:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.formInline.nickname,callback:function(t){e.$set(e.formInline,"nickname",t)},expression:"formInline.nickname"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{fit:"",data:e.tableData}},[a("el-table-column",{attrs:{width:"160px",prop:"name",label:"用户名"}}),e._v(" "),a("el-table-column",{attrs:{width:"160px",label:"头像"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"avatar-user-img",attrs:{src:e._f("uploadPrefixUrl")(t.row.headimgurl)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"注册时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleDelete(t.row,t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,l,!1,null,null,null);t.default=o.exports}});