webpackJsonp([55],{ny60:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("b/7n"),l=t("ms7A"),i={name:"wxManager",data:function(){return{loading:!0,tableLoading:!1,panelData:[{label:"用户总数",number:0},{label:"昨日新增用户数",number:0},{label:"昨日活跃用户数",number:0}],formInline:{nickname:"",dateValue:""},params:{page:1,pageSize:10,name:"",beginT:"",endT:""},tableData:[],total:0}},created:function(){var e=this;this.getData(),Object(l.e)().then(function(a){var t=a.data.result;e.panelData[0].number=t.tNum,e.panelData[1].number=t.yIncNum,e.panelData[2].number=t.acNum}).catch(function(e){})},mounted:function(){},methods:{getData:function(){var e=this;this.loading=!0,Object(l.f)(this.params).then(function(a){var t=a.data.result;e.tableData=t.data,e.total=t.total,e.loading=!1}).catch(function(a){e.loading=!1})},onSubmit:function(){this.resetParams(),this.params.name=this.formInline.nickname,Array.isArray(this.formInline.dateValue)&&this.formInline.dateValue.length>0&&(this.params.beginT=this.formInline.dateValue[0],this.params.endT=this.formInline.dateValue[1]),this.getData(),console.log("submit")},dateChange:function(e){},handleSizeChange:function(e){this.params.pageSize=e,this.getData()},handleCurrentChange:function(e){this.params.page=e,this.getData(),console.log("当前页: "+e)},resetParams:function(){this.params={page:1,pageSize:10,name:"",beginT:"",endT:""}}},components:{panelNumber:n.default}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[t("panel-number",{attrs:{paneldata:e.panelData}}),e._v(" "),t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:"昵称"}},[t("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:e.formInline.nickname,callback:function(a){e.$set(e.formInline,"nickname",a)},expression:"formInline.nickname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"时间"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.dateChange},model:{value:e.formInline.dateValue,callback:function(a){e.$set(e.formInline,"dateValue",a)},expression:"formInline.dateValue"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{fit:"",data:e.tableData}},[t("el-table-column",{attrs:{width:"160px",label:"用户头像"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("img",{staticClass:"avatar-user-img",attrs:{src:e._f("uploadPrefixUrl")(a.row.headimgurl)}})]}}])}),e._v(" "),t("el-table-column",{attrs:{width:"160px",prop:"nickname",label:"微信昵称"}}),e._v(" "),t("el-table-column",{attrs:{label:"地区",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n        "+e._s(a.row.province)+"-"+e._s(a.row.city)+"\n      ")]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"time",label:"上次活跃时间"}})],1),e._v(" "),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]},o=t("VU/8")(i,r,!1,null,null,null);a.default=o.exports}});