webpackJsonp([24],{"1oqE":function(e,a,t){var l=t("PUP5");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);t("rjj0")("b7590854",l,!0)},PUP5:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.active {\n  color: #409EFF;\n  border-color: #c6e2ff;\n  background-color: #ecf5ff;\n}\n",""])},Z1kc:function(e,a,t){var l=t("mkhB");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);t("rjj0")("65cd5001",l,!0)},ZVlN:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("woOf"),n=t.n(l),i=t("mFSD"),r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-row",{staticStyle:{"margin-bottom":"15px"}},[t("el-col",[e._v("\n\t\t"+e._s(e.links.title)+"：\n\t\t"),e._l(e.links.links,function(a,l){return t("el-button",{key:l,class:{active:e.type===a.value},nativeOn:{click:function(t){e.select(a.value)}}},[e._v(e._s(a.label))])})],2)],1)},staticRenderFns:[]};var s={name:"orderList",data:function(){return{loading:!1,tableLoading:!1,tableDetailLoading:!1,params:{page:1,pageSize:10,name:"",type:"",beginT:"",endT:"",id:"",dateValue:"",is_refund:0},tableData:[],total:0,dialogVisible:!1,detailData:[],totalDetail:0,paramsDetail:{page:1,pageSize:10},curDetailId:0}},created:function(){this.getData()},methods:{onClick:function(){this.getData()},viewPacketDetail:function(e){var a=this;this.tableDetailLoading=!0,e&&(this.curDetailId=e),this.dialogVisible=!0;var t=n()(this.paramsDetail,{hb_id:this.curDetailId});Object(i.f)(t).then(function(e){var t=e.data.result;a.detailData=t.data,a.totalDetail=t.total,a.tableDetailLoading=!1})},getData:function(){var e=this;this.loading=!0,Object(i.g)(this.params).then(function(a){var t=a.data.result;e.tableData=t.data,e.total=t.total,e.loading=!1}).catch(function(a){e.loading=!1})},resetParams:function(){this.params.page=1},onSubmit:function(){this.resetParams(),Array.isArray(this.params.dateValue)&&this.params.dateValue.length>0&&(this.params.beginT=this.params.dateValue[0],this.params.endT=this.params.dateValue[1]),this.getData(),console.log("submit!")},handleSizeChange:function(e){this.params.pageSize=e,this.getData()},handleCurrentChange:function(e){this.params.page=e,this.getData(),console.log("当前页: "+e)},handleSizeChangeDetail:function(e){this.paramsDetail.pageSize=e,this.viewPacketDetail()},handleCurrentChangeDetail:function(e){this.paramsDetail.page=e,this.viewPacketDetail(),console.log("当前页: "+e)},dateChange:function(e){null==e&&(this.params.beginT="",this.params.endT="")}},components:{LinkSearch:t("VU/8")({name:"LinkSearch",model:{prop:"type",event:"setType"},props:["type","links"],data:function(){return{}},created:function(){},methods:{select:function(e){this.$emit("setType",e),this.$emit("onClick")}}},r,!1,function(e){t("1oqE")},null,null).exports}},o={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.params}},[t("el-form-item",{attrs:{label:"ID"}},[t("el-input",{attrs:{placeholder:"请输入ID",clearable:""},model:{value:e.params.id,callback:function(a){e.$set(e.params,"id",a)},expression:"params.id"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"昵称"}},[t("el-input",{attrs:{clearable:""},model:{value:e.params.nickname,callback:function(a){e.$set(e.params,"nickname",a)},expression:"params.nickname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"时间"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.dateChange},model:{value:e.params.dateValue,callback:function(a){e.$set(e.params,"dateValue",a)},expression:"params.dateValue"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("搜索")])],1)],1),e._v(" "),t("link-search",{attrs:{links:{title:"红包类型",links:[{label:"全部",value:""},{label:"牛角红包",value:1},{label:"现金红包",value:2}]}},on:{onClick:e.onClick},model:{value:e.params.type,callback:function(a){e.$set(e.params,"type",a)},expression:"params.type"}}),e._v(" "),t("link-search",{attrs:{links:{title:"退回金额",links:[{label:"全部",value:0},{label:"有",value:1},{label:"无",value:2}]}},on:{onClick:e.onClick},model:{value:e.params.is_refund,callback:function(a){e.$set(e.params,"is_refund",a)},expression:"params.is_refund"}}),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{fixed:"",prop:"mc_id",label:"ID"}}),e._v(" "),t("el-table-column",{attrs:{width:"140px",prop:"nickname",label:"昵称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"money",width:"100px",label:"红包金额"}}),e._v(" "),t("el-table-column",{attrs:{width:"100px",label:"红包类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[2==a.row.pay_type?t("el-tag",{attrs:{type:"danger"}},[e._v("现金红包")]):e._e(),e._v(" "),1==a.row.pay_type?t("el-tag",{attrs:{type:"success"}},[e._v("牛角红包")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"refund_money",width:"100px",label:"退回金额"}}),e._v(" "),t("el-table-column",{attrs:{prop:"real_money",width:"180px",label:"实际发红包金额"}}),e._v(" "),t("el-table-column",{attrs:{prop:"order_no",label:"订单号",width:"140px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"create_time",label:"订单时间",width:"160px"}}),e._v(" "),t("el-table-column",{attrs:{label:"发放对象"},scopedSlots:e._u([{key:"default",fn:function(a){return[0==a.row.type?[e._v("\n          全场\n        ")]:e._e(),e._v(" "),2==a.row.type?[e._v("\n          男士\n        ")]:e._e(),e._v(" "),1==a.row.type?[e._v("\n          女士\n        ")]:e._e(),e._v(" "),3==a.row.type?[e._v("\n          自定义\n        ")]:e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.viewPacketDetail(a.row.id)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{attrs:{title:"收货地址",visible:e.dialogVisible},on:{"update:visible":function(a){e.dialogVisible=a},close:function(a){e.paramsDetail.page=1}}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableDetailLoading,expression:"tableDetailLoading"}],attrs:{data:e.detailData}},[t("el-table-column",{attrs:{prop:"mc_id",label:"ID",width:"60"}}),e._v(" "),t("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:"160"}}),e._v(" "),t("el-table-column",{attrs:{label:"红包类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[2==a.row.pay_type?t("el-tag",{attrs:{type:"danger"}},[e._v("现金红包")]):e._e(),e._v(" "),1==a.row.pay_type?t("el-tag",{attrs:{type:"success"}},[e._v("牛角红包")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"money",label:"抢到金额"}})],1),e._v(" "),t("div",{staticClass:"pagination-container"},[t("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.totalDetail},on:{"size-change":e.handleSizeChangeDetail,"current-change":e.handleCurrentChangeDetail}})],1)],1)],1)},staticRenderFns:[]};var c=t("VU/8")(s,o,!1,function(e){t("Z1kc")},null,null);a.default=c.exports},mkhB:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.tag {\n  margin-bottom: 4px;\n}\n",""])}});