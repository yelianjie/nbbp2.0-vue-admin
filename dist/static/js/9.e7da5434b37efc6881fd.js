webpackJsonp([9,32],{"666p":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("aOzX"),r=t("tiXV"),o={name:"barManageEdit",directives:{clipboard:t("KI+6").a},data:function(){return{url:"http://nb.siweiquanjing.com/app/index.php?i=15&c=entry&do=BigScreen&m=bl_wx_wall&jiubaid=130",visibleMap:!1,actionBtns:[{text:"确定",type:"primary"}],form:{name:"",agent:"",manager:"",status:"2",logoUrl:""},rateForm:{user_rate:10,business_rate:50,barmanager_rate:10,platform_rate:25},agents:[{label:"张三",value:"1"},{label:"李四",value:"2"}],managers:[{label:"张三",value:"1"},{label:"李四",value:"2"}]}},methods:{handleBtnClick:function(e,a){setTimeout(function(){a&&a()},2e3)},handleChange:function(e){console.log(e)},handleLogoSuccess:function(e,a){this.form.logoUrl=URL.createObjectURL(a.raw)},beforeLogoUpload:function(e){var a=e.size/1024<100;return a||this.$message.error("上传图片大小不能超过 100K!"),a},closeDialog:function(e){null!=e&&console.log(e),this.visibleMap=!1},clipboardSuccess:function(){this.$message({message:"复制成功",type:"success",duration:1500})},openNewWindow:function(){window.open(this.url)}},components:{FixBottomBtns:n.a,BaiduMap:r.default}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"edit-container container"},[t("h3",{staticStyle:{"margin-top":"0"}},[e._v("CMK酒吧")]),e._v(" "),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("基本信息")])]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("el-row",[t("el-col",{attrs:{xs:24,sm:12,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{label:"酒吧名称"}},[t("el-input",{attrs:{placeholder:"请填写酒吧名称"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"联系方式"}},[t("el-input",{attrs:{placeholder:"请填写联系方式"},model:{value:e.form.mobile,callback:function(a){e.$set(e.form,"mobile",a)},expression:"form.mobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"代理选择"}},[t("el-select",{attrs:{placeholder:"请选择代理选择"},model:{value:e.form.agent,callback:function(a){e.$set(e.form,"agent",a)},expression:"form.agent"}},e._l(e.agents,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"酒吧管理"}},[t("el-select",{attrs:{placeholder:"请选择酒吧管理"},model:{value:e.form.manager,callback:function(a){e.$set(e.form,"manager",a)},expression:"form.manager"}},e._l(e.managers,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"酒吧地址"}},[t("span",{staticClass:"address"},[t("svg-icon",{attrs:{"icon-class":"position"}}),e._v("浙江省宁波市鄞州区日丽中路700号"),t("el-button",{nativeOn:{click:function(a){e.visibleMap=!0}}},[e._v("编辑")])],1)])],1),e._v(" "),t("el-col",{attrs:{xs:22,sm:10,md:10,lg:10,xl:10,offset:2}},[t("div",{staticClass:"upload-wrap"},[t("div",{staticClass:"upload-text"},[e._v("上传图片")]),e._v(" "),t("div",{staticClass:"upload-inner"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{accept:"image/*",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleLogoSuccess,"before-upload":e.beforeLogoUpload}},[e.form.logoUrl?t("img",{staticClass:"avatar",attrs:{src:e.form.logoUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),t("div",{staticClass:"format-tip"},[e._v("支持JPG、PNG等图片格式")])],1)])])],1),e._v(" "),t("div",{staticClass:"line"}),e._v(" "),t("el-form-item",{attrs:{label:"审核状态"}},[t("el-radio-group",{model:{value:e.form.status,callback:function(a){e.$set(e.form,"status",a)},expression:"form.status"}},[t("el-radio",{attrs:{label:"1"}},[e._v("审核通过")]),e._v(" "),t("el-radio",{attrs:{label:"2"}},[e._v("审核不通过")]),e._v(" "),t("el-radio",{attrs:{label:"3"}},[e._v("解约")])],1)],1)],1)],1),e._v(" "),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("分成比例设置")])]),e._v(" "),t("el-form",{ref:"rateForm",attrs:{model:e.rateForm,"label-width":"80px"}},[t("el-row",{staticClass:"rate-row"},[t("el-col",[t("span",{staticClass:"percent-tip"},[e._v("酒吧用户")]),e._v(" "),t("el-input-number",{staticClass:"input-number-percent",attrs:{"controls-position":"right",size:"small",min:1,max:25},on:{change:e.handleChange},model:{value:e.rateForm.user_rate,callback:function(a){e.$set(e.rateForm,"user_rate",a)},expression:"rateForm.user_rate"}}),e._v("%\n        ")],1)],1),e._v(" "),t("el-row",{staticClass:"rate-row"},[t("el-col",[t("span",{staticClass:"percent-tip"},[e._v("酒吧商户")]),e._v(" "),t("el-input-number",{staticClass:"input-number-percent",attrs:{"controls-position":"right",size:"small",min:1,max:25},on:{change:e.handleChange},model:{value:e.rateForm.business_rate,callback:function(a){e.$set(e.rateForm,"business_rate",a)},expression:"rateForm.business_rate"}}),e._v("%\n          "),t("span",{staticClass:"percent-tip"},[e._v("酒吧管理")]),e._v(" "),t("el-input-number",{staticClass:"input-number-percent",attrs:{"controls-position":"right",size:"small",min:1,max:70},on:{change:e.handleChange},model:{value:e.rateForm.barmanager_rate,callback:function(a){e.$set(e.rateForm,"barmanager_rate",a)},expression:"rateForm.barmanager_rate"}}),e._v("%\n          "),t("span",{staticClass:"percent-tip"},[e._v("代理")]),e._v(" "),t("el-input-number",{staticClass:"input-number-percent",attrs:{"controls-position":"right",size:"small",min:1,max:70},on:{change:e.handleChange},model:{value:e.rateForm.barmanager_rate,callback:function(a){e.$set(e.rateForm,"barmanager_rate",a)},expression:"rateForm.barmanager_rate"}}),e._v("%\n          "),t("span",{staticClass:"percent-tip"},[e._v("牛霸平台")]),e._v(" "),t("el-input-number",{staticClass:"input-number-percent",attrs:{disabled:!0,"controls-position":"right",size:"small",min:1,max:70},model:{value:e.rateForm.platform_rate,callback:function(a){e.$set(e.rateForm,"platform_rate",a)},expression:"rateForm.platform_rate"}}),e._v("%\n        ")],1)],1),e._v(" "),t("p",{staticClass:"tip"},[e._v("酒吧用户参与分成：酒吧用户+商户+酒吧管理+代理 +牛霸平台=100%")]),e._v(" "),t("p",{staticClass:"tip"},[e._v("酒吧用户不参与分成：商户+酒吧管理+代理 +牛霸平台=100%")])],1)],1),e._v(" "),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("霸屏地址")])]),e._v(" "),t("div",{staticClass:"url-wrap"},[t("div",{staticClass:"url-item"},[t("p",[e._v(" 大屏URL："+e._s(e.url)),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.url,expression:"url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],attrs:{type:"primary",plain:""}},[e._v("复制")]),t("el-button",{attrs:{type:"primary",plain:""},nativeOn:{click:function(a){e.openNewWindow(a)}}},[e._v("打开")])],1),e._v(" "),t("p",[e._v("手机端URL："+e._s(e.url)),t("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.url,expression:"url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],attrs:{type:"primary",plain:""}},[e._v("复制")])],1)]),e._v(" "),t("div",{staticClass:"qrcode-img"},[t("img",{attrs:{src:"http://nb.siweiquanjing.com/attachment/bar/20171227191747_227.png"}})])])]),e._v(" "),t("fix-bottom-btns",{attrs:{btns:e.actionBtns},on:{FixBtnClick:e.handleBtnClick}}),e._v(" "),e.visibleMap?t("BaiduMap",{on:{closeDialog:e.closeDialog}}):e._e()],1)},staticRenderFns:[]};var s=t("VU/8")(o,i,!1,function(e){t("EsJ5")},"data-v-c6ce4d88",null);a.default=s.exports},EsJ5:function(e,a,t){var n=t("GnZ3");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("0207faec",n,!0)},GnZ3:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.box-card[data-v-c6ce4d88] {\n  margin-bottom: 40px;\n}\n.address button[data-v-c6ce4d88] {\n  margin-left: 20px;\n}\n.upload-wrap[data-v-c6ce4d88] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.upload-wrap .upload-text[data-v-c6ce4d88] {\n    font-size: 14px;\n    color: #606266;\n    font-weight: 700;\n}\n.upload-wrap .upload-inner[data-v-c6ce4d88] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    margin-left: 15px;\n}\n.upload-wrap .avatar-uploader-icon[data-v-c6ce4d88] {\n    width: 100px;\n    height: 100px;\n    line-height: 100px;\n}\n.upload-wrap .avatar[data-v-c6ce4d88] {\n    width: 100px;\n    height: 100px;\n}\n.upload-wrap .format-tip[data-v-c6ce4d88] {\n    color: #606266;\n    font-size: 13px;\n    margin-top: 20px;\n}\n.upload-wrap .avatar-uploader[data-v-c6ce4d88] .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.upload-wrap .avatar-uploader[data-v-c6ce4d88] .el-upload:hover {\n      border-color: #409EFF;\n}\n.line[data-v-c6ce4d88] {\n  border-bottom: 1px solid #ebeef5;\n  margin-bottom: 20px;\n}\n.percent-tip[data-v-c6ce4d88] {\n  font-size: 14px;\n}\n.percent-tip[data-v-c6ce4d88]:not(:first-child) {\n    margin-left: 40px;\n}\n.rate-row[data-v-c6ce4d88] {\n  margin-bottom: 14px;\n}\n.input-number-percent[data-v-c6ce4d88] {\n  margin: 0 5px;\n}\n.tip[data-v-c6ce4d88] {\n  color: #606266;\n  font-size: 14px;\n  line-height: 16px;\n  padding-left: 60px;\n}\n.tip[data-v-c6ce4d88]:first-of-type {\n    margin-top: 30px;\n}\n.url-wrap[data-v-c6ce4d88] {\n  padding: 0 20px;\n  font-size: 14px;\n}\n.qrcode-img img[data-v-c6ce4d88] {\n  width: 200px;\n  height: 200px;\n}\n.url-item[data-v-c6ce4d88] button:first-of-type {\n  margin-left: 15px;\n}\n",""])},"KI+6":function(e,a,t){"use strict";var n=t("V33R");if(!n)throw new Error("you shold npm install `clipboard` --save at first ");var r={bind:function(e,a){if("success"===a.arg)e._v_clipboard_success=a.value;else if("error"===a.arg)e._v_clipboard_error=a.value;else{var t=new n(e,{text:function(){return a.value},action:function(){return"cut"===a.arg?"cut":"copy"}});t.on("success",function(a){var t=e._v_clipboard_success;t&&t(a)}),t.on("error",function(a){var t=e._v_clipboard_error;t&&t(a)}),e._v_clipboard=t}},update:function(e,a){"success"===a.arg?e._v_clipboard_success=a.value:"error"===a.arg?e._v_clipboard_error=a.value:(e._v_clipboard.text=function(){return a.value},e._v_clipboard.action=function(){return"cut"===a.arg?"cut":"copy"})},unbind:function(e,a){"success"===a.arg?delete e._v_clipboard_success:"error"===a.arg?delete e._v_clipboard_error:(e._v_clipboard.destroy(),delete e._v_clipboard)}},o=function(e){e.directive("Clipboard",r)};window.Vue&&(window.clipboard=r,Vue.use(o)),r.install=o;a.a=r},aOzX:function(e,a,t){"use strict";var n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"fixed_bottom"},e._l(e.btns,function(a,n){return t("el-button",{key:n,attrs:{type:a.type,loading:e.loading},nativeOn:{click:function(a){e.btnClick(n)}}},[e._v(e._s(a.text))])}))},staticRenderFns:[]};var r=t("VU/8")({data:function(){return{loading:!1}},props:["btns"],methods:{btnClick:function(e){var a=this;this.loading=!0,this.$emit("FixBtnClick",e,function(){a.loading=!1})}}},n,!1,function(e){t("op0K")},"data-v-55c3f832",null);a.a=r.exports},bVlW:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.el-autocomplete[data-v-eb429b16] {\n  width: 100%;\n}\n.search-wrap[data-v-eb429b16] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.search-input[data-v-eb429b16] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin-right: 20px;\n}\n#map_container[data-v-eb429b16] {\n  margin-top: 30px;\n  height: 300px;\n}\n",""])},eJDu:function(e,a,t){var n=t("bVlW");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("713858c4",n,!0)},mtxQ:function(e,a,t){(e.exports=t("FZ+f")(!1)).push([e.i,"\n.fixed_bottom[data-v-55c3f832] {\n  position: fixed;\n  bottom: 0;\n  left: 180px;\n  right: 0;\n  padding: 10px 32px;\n  text-align: right;\n  z-index: 1;\n  background-color: #fff;\n  -webkit-box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);\n          box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);\n}\n",""])},op0K:function(e,a,t){var n=t("mtxQ");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("51464208",n,!0)},tiXV:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={data:function(){return{input:"",map:null,mapSearch:null,selectItem:null,geocoder:null}},methods:{onClose:function(){this.$emit("closeDialog",null)},querySearch:function(e,a){var t=this;this.mapSearch||(this.mapSearch=new BMap.LocalSearch(this.map,{onSearchComplete:function(e){a(t.searchFilterBack(e))},pageCapacity:50})),this.mapSearch.search(e)},handleSelect:function(e){var a=this;this.geocoder.getLocation(e.point,function(e){console.log(e),a.selectItem=e,a.map.clearOverlays();var t=new BMap.Point(e.point.lng,e.point.lat);a.map.centerAndZoom(t,15);var n=new BMap.Marker(t);a.map.addOverlay(n)})},onSubmit:function(){null!=this.selectItem?this.$emit("closeDialog",this.selectItem):this.$message.error("请输入地址并点击下拉地址进行选择定位")},searchFilterBack:function(e){var a=[];for(var t in e)if("[object Array]"==Object.prototype.toString.call(e[t])&&e[t].length>0){e[t][0].point&&(a=e[t]);break}return a}},mounted:function(){var e=this,a=this;this.$nextTick(function(){e.map=new BMap.Map("map_container");var t=new BMap.Geolocation;e.geocoder=new BMap.Geocoder,t.getCurrentPosition(function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var t=e.point;a.map.centerAndZoom(new BMap.Point(t.lng,t.lat),15)}}),e.map.enableScrollWheelZoom()})}},r={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{attrs:{title:"地图选址",visible:!0},on:{close:e.onClose}},[t("div",{staticClass:"search-wrap"},[t("div",{staticClass:"search-input"},[t("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入地址","trigger-on-focus":!1,valueKey:"title"},on:{select:e.handleSelect},model:{value:e.input,callback:function(a){e.input=a},expression:"input"}})],1),e._v(" "),t("div",{staticClass:"search-btn"},[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])],1)]),e._v(" "),t("div",{attrs:{id:"map_container"}})])},staticRenderFns:[]};var o=t("VU/8")(n,r,!1,function(e){t("eJDu")},"data-v-eb429b16",null);a.default=o.exports}});